"use strict";(self["webpackChunkredo_spa"]=self["webpackChunkredo_spa"]||[]).push([[697],{4697:(e,a,s)=>{s.r(a),s.d(a,{default:()=>I});var l=s(3673),t=s(2323);const i={class:"animal-list text-dark"},n={class:"col-xs-12 col-sm-10"},r={class:"row justify-center q-gutter-y-lg q-gutter-x-md"};function o(e,a,s,o,d,m){const u=(0,l.up)("q-btn"),p=(0,l.up)("spa-filter-box"),c=(0,l.up)("q-drawer"),g=(0,l.up)("spa-animal-card");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(u,{label:"Filtre",flat:"","no-caps":"",icon:"tune",onClick:a[0]||(a[0]=a=>e.drawerOpen=!e.drawerOpen),class:"filter-btn","bg-color":"white"}),(0,l._)("div",null,[(0,l.Wm)(c,{"show-if-above":"",modelValue:e.drawerOpen,"onUpdate:modelValue":a[2]||(a[2]=a=>e.drawerOpen=a),side:"left",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{searchAnimal:e.searchAnimal,onCloseDrawer:a[1]||(a[1]=a=>e.drawerOpen=!1)},null,8,["searchAnimal"])])),_:1},8,["modelValue"]),(0,l._)("div",{class:(0,t.C_)([e.drawerOpen?"justify-end":"justify-center","row q-py-xl"])},[(0,l._)("div",n,[(0,l._)("div",r,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.animalsFiltered,(a=>((0,l.wg)(),(0,l.iD)("div",{key:a.id,style:(0,t.j5)((e.$q.screen.lt.md,"width: 250px"))},[(0,l.Wm)(g,{animal:a},null,8,["animal"])],4)))),128))])])],2)])])}var d=s(1959);const m={class:"q-pa-md text-dark filter-drawer"},u={class:"row justify-between items-center text-bold"},p=(0,l.Uk)("Filtre "),c={class:"row justify-center q-pt-md"},g=(0,l.Uk)("Aucun refuge ne se trouve ici");function h(e,a,s,i,n,r){const o=(0,l.up)("q-icon"),d=(0,l.up)("q-btn"),h=(0,l.up)("q-item-section"),f=(0,l.up)("q-item-label"),b=(0,l.up)("q-item"),w=(0,l.up)("q-select"),C=(0,l.up)("q-option-group"),y=(0,l.up)("q-expansion-item"),A=(0,l.up)("q-checkbox");return(0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("div",u,[(0,l._)("div",null,[(0,l.Wm)(o,{class:"q-pr-sm",name:"tune",size:"sm"}),p]),(0,l.Wm)(d,{dense:"",flat:"","no-caps":"",icon:"close",onClick:e.closeDrawer},null,8,["onClick"])]),(0,l._)("div",c,[(0,l.Wm)(w,{class:"col-12",modelValue:e.searchAnimal.location,"onUpdate:modelValue":a[0]||(a[0]=a=>e.searchAnimal.location=a),dense:"",label:"Commune","use-input":"",outlined:"","input-debounce":"0",options:e.villesOptions,onFilter:e.filterFn,clearable:"","options-selected-class":"text-primary"},{option:(0,l.w5)((e=>[(0,l.Wm)(b,(0,l.dG)({clickable:""},e.itemProps),{default:(0,l.w5)((()=>[(0,l.Wm)(h,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{color:"dark",name:"pets"})])),_:1}),(0,l.Wm)(h,{class:"text-dark"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.opt),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"text-grey-9 text-italic"},{default:(0,l.w5)((()=>[g])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,l.Wm)(y,{class:"q-pt-sm",label:"Espèces"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{modelValue:e.searchAnimal.species,"onUpdate:modelValue":a[1]||(a[1]=a=>e.searchAnimal.species=a),options:e.options.species,color:"primary"},null,8,["modelValue","options"])])),_:1}),(0,l.Wm)(y,{class:"q-pt-sm",label:"Sexe"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{modelValue:e.searchAnimal.gender,"onUpdate:modelValue":a[2]||(a[2]=a=>e.searchAnimal.gender=a),options:e.options.gender,color:"primary"},null,8,["modelValue","options"])])),_:1}),(0,l.Wm)(y,{class:"q-pt-sm",label:"Age"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{modelValue:e.searchAnimal.age,"onUpdate:modelValue":a[3]||(a[3]=a=>e.searchAnimal.age=a),options:e.options.age,color:"primary"},null,8,["modelValue","options"])])),_:1}),(0,l.Wm)(A,{modelValue:e.searchAnimal.sos,"onUpdate:modelValue":a[4]||(a[4]=a=>e.searchAnimal.sos=a),label:"SOS",color:"dark"},null,8,["modelValue"])])}const f={Luynes:{name:"Refuge SPA de Luynes - Tours",address:"Malitourne",postalCode:"37230",commune:"Luynes"},"Chilleurs-Aux-Bois":{name:"Refuge SPA de Chilleurs-Aux-Bois - Le Moulin d'en Haut",address:"Rue de la gare",postalCode:"45170",commune:"Chilleurs-Aux-Bois"},Rennes:{name:"Refuge SPA de Rennes",address:"5A rue Roland Doré",postalCode:"35000",commune:"Rennes"},Chamarande:{name:"Refuge SPA de Chamarande",address:"CD 99 - Sortie de Torfou le Parc du Lys",postalCode:"91730",commune:"Chamarande"},Orgeval:{name:"Refuge SPA d'Orgeval",address:"1 Route Royale",postalCode:"78630",commune:"Orgeval"},"Saint-Omer":{name:"Refuge SPA de Saint-Omer - Le Brockus",address:"Allée du Général Grammont",postalCode:"62500",commune:"Saint-Omer"},Millau:{name:"Refuge SPA de Millau - L'Escale",address:"Route de Paulhe",postalCode:"12100",commune:"Millau"},Cholet:{name:"Refuge SPA de Cholet - De l'Espérance",address:"Route de Toulemonde",postalCode:"49300",commune:"Cholet"},Hermeray:{name:"Refuge SPA d'Hermeray",address:"La Berthière",postalCode:"78125",commune:"Hermeray"},Arry:{name:"Refuge SPA d'Arry - Gerhard Cramer",address:"Ferme du voisinage - Route Nationale",postalCode:"57680",commune:"Arry"},"Yvré-L’Évêque":{name:"Refuge SPA d'Yvré-L'Évèque - Le Mans",address:"Route de Changé",postalCode:"72530",commune:"Yvré-L’Évêque"},Chameyrat:{name:"Refuge SPA de Chameyrat - Tulle",address:"La Rochette RN 89",postalCode:"19330",commune:"Chameyrat"},Châteaubourg:{name:"Refuge SPA de Châteaubourg",address:"Chemin de la Goulgatière",postalCode:"35220",commune:"Châteaubourg"},Quimper:{name:"Refuge SPA de Quimper - Du Corniguel",address:"Avenue Denis Papin",postalCode:"29000",commune:"Quimper"},Pornic:{name:"Refuge SPA de Pornic - Saint-Père en Retz",address:"Le Brandais",postalCode:"44210",commune:"Pornic"},Plouhinec:{name:"Refuge SPA de Plouhinec",address:"Trohonan",postalCode:"29780",commune:"Plouhinec"}},b={species:[{label:"Chien",icon:"dog",value:"dog"},{label:"Chat",icon:"cat",value:"cat"}],gender:[{label:"Male",value:"male"},{label:"Femelle",value:"female"},{label:"Indifférent",value:"indifferent"}],age:[{label:"Junior",value:"junior"},{label:"Adulte",value:"adult"},{label:"Senior",value:"senior"},{label:"Indifférent",value:"indifferent"}]},w=(0,l.aZ)({name:"Filter",props:["searchAnimal"],setup(e,{emit:a}){const s=()=>{a("closeDrawer")},l=Object.keys(f),t=(0,d.iH)([]),i=async(e,a,s)=>{e.length<1?s():a((()=>{let a=l.filter((a=>a.toLowerCase().startsWith(e.toLowerCase())));t.value=a}))};return{closeDrawer:s,options:b,filterFn:i,villesOptions:t}}});var C=s(4554),y=s(4607),A=s(8767),v=s(3414),S=s(2035),j=s(2350),k=s(762),q=s(8870),D=s(5735),P=s(7518),R=s.n(P);w.render=h;const x=w;R()(w,"components",{QIcon:C.Z,QBtn:y.Z,QSelect:A.Z,QItem:v.Z,QItemSection:S.Z,QItemLabel:j.Z,QExpansionItem:k.Z,QOptionGroup:q.Z,QCheckbox:D.Z});const _=["src"],L={class:"row q-gutter-x-xs items-center"};function W(e,a,s,i,n,r){const o=(0,l.up)("q-btn"),d=(0,l.up)("q-item-label"),m=(0,l.up)("q-icon"),u=(0,l.up)("q-item-section"),p=(0,l.up)("q-item"),c=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(c,null,{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.animal.image,style:(0,t.j5)(e.$q.screen.lt.md?"height: 140px":"height: 160px")},null,12,_),(0,l.Wm)(p,{clickable:"",class:"column"},{default:(0,l.w5)((()=>[e.animal.sos?((0,l.wg)(),(0,l.j4)(o,{key:0,color:"primary",label:"SOS",class:"absolute",style:{top:"0",right:"10px",transform:"translateY(-50%)"}})):(0,l.kq)("",!0),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l._)("div",L,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.animal.name),1)])),_:1}),(0,l.Wm)(m,{name:e.animal.gender},null,8,["name"])])])),_:1})])),_:1})])),_:1})}const O=(0,l.aZ)({props:["animal"],setup(){}});var Q=s(151);O.render=W;const Z=O;R()(O,"components",{QCard:Q.Z,QItem:v.Z,QBtn:y.Z,QItemSection:S.Z,QItemLabel:j.Z,QIcon:C.Z});const B=[{id:1,age:"adult",species:"cat",name:"Lagertha",gender:"female",breed:"Européen",birthDate:"10/04/2020",sos:!1,refuge:f["Yvré-L’Évêque"],image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22666/lagertha-22666-61952e0f76688.jpg"},{id:2,species:"cat",age:"junior",name:"Salicorne",gender:"female",breed:"Européen",birthDate:"15/05/2021",sos:!1,refuge:f.Chameyrat,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21909/salicorne-21909-61952de02b38e.jpg"},{id:3,species:"cat",name:"Epinette",age:"adult",gender:"female",breed:"Européen",birthDate:"01/10/2020",sos:!1,refuge:f["Châteaubourg"],image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22645/epinette-22645-61952e0e7c331.jpg"},{id:4,species:"cat",name:"Gavotte",gender:"female",breed:"Européen",age:"adult",birthDate:"19/10/2019",sos:!0,refuge:f.Quimper,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22982/gavotte-qct-22982-61952e1b0d6c4.jpg"},{id:5,species:"cat",name:"Lola",gender:"female",breed:"Européen",age:"senior",birthDate:"26/11/2016",sos:!1,refuge:f.Chamarande,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/24179/lola-24179-61a10d71444ca.jpg"},{id:6,species:"cat",name:"Ankio",gender:"male",breed:"Europeen",age:"adult",birthDate:"/",sos:!1,refuge:f.Chamarande,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/25013/ankio-cha14765-25013-61a1156ded15e.jpg"},{id:7,species:"cat",name:"Rocky",gender:"male",breed:"Européen",age:"junior",birthDate:"11/11/2021",sos:!0,refuge:f.Pornic,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21198/rocky-21198-61952dacb9e2d.jpg"},{id:8,species:"cat",name:"Crossover",gender:"female",breed:"Européen",age:"junior",birthDate:"17/04/2021",sos:!1,refuge:f.Plouhinec,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22067/crossover-22067-61952dea7d0b6.jpg"},{id:9,species:"cat",name:"Briana",gender:"female",breed:"Européen",age:"junior",birthDate:"18/07/2021",sos:!1,refuge:f.Millau,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/24376/briana-24376-619e30a9bfd3c.jpg"},{id:10,species:"cat",name:"Polo",gender:"male",breed:"Européen",age:"senior",birthDate:"31/08/2016",sos:!0,refuge:f.Plouhinec,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22139/polo-22139-61952ded4f65f.jpg"},{id:11,species:"dog",name:"Maiko",age:"adult",gender:"male",breed:"Berger belge Malinoiis",birthDate:"05/10/2019",sos:!1,refuge:f.Luynes,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21084/maiko-21084-61952da87c06f.jpg"},{id:12,species:"dog",name:"Miku",age:"adult",gender:"male",breed:"Croisé / Autre (Labrador)",birthDate:"02/07/2020",sos:!1,refuge:f["Chilleurs-Aux-Bois"],image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21642/miku-21642-61952dc5dcb69.jpg"},{id:13,species:"dog",name:"Catou",gender:"male",breed:"Jack russel",age:"adult",birthDate:"25/11/2013",sos:!0,refuge:f.Rennes,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21545/catou-21545-619d106d46857.jpg"},{id:14,species:"dog",name:"Bayron",gender:"male",breed:"Croisé (Cane corso, Berger)",age:"adult",birthDate:"01/01/2016",sos:!0,refuge:f.Chamarande,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/20186/bayron-chao11041-20186-61952d679e7fc.jpg"},{id:15,species:"dog",name:"Odda",gender:"male",breed:"Braque",age:"adult",birthDate:"25/08/2017",sos:!1,refuge:f.Orgeval,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/20395/odda-oaa18434-20395-61952d81ca1a9.jpg"},{id:16,species:"dog",name:"Paco",gender:"male",breed:"American staffordshire",age:"adult",birthDate:"03/03/2019",sos:!1,refuge:f["Saint-Omer"],image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21305/paco-21305-61952db513340.jpg"},{id:17,species:"dog",name:"Onyx",gender:"male",breed:"Border Collie",age:"senior",birthDate:"01/01/2011",sos:!0,refuge:f.Millau,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/20036/onyx-20036-61952d6234221.jpg"},{id:18,species:"dog",name:"Falco",gender:"male",breed:"Husky siberien",age:"adult",birthDate:"16/02/2016",sos:!1,refuge:f.Cholet,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21993/falcko-21993-619d1079cffb2.jpg"},{id:19,species:"dog",name:"Lapin",gender:"male",breed:"Dogue argentin",age:"adult",birthDate:"27/08/2019",sos:!1,refuge:f.Hermeray,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22410/lapin-22410-61952dff7f7bc.jpg"},{id:20,species:"dog",name:"James",gender:"male",breed:"Croisé / Autre (Dogue)",age:"adult",birthDate:"01/01/2014",sos:!1,refuge:f.Arry,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/23201/james-23201-619d10bb4fefd.jpg"}];class V{constructor(e,a){this.bySpecies=()=>(this.model.species&&(this.animals=this.animals.filter((e=>e.species===this.model.species))),this),this.byLocation=()=>(this.model.location&&(this.animals=this.animals.filter((e=>e.refuge.commune===this.model.location))),this),this.byBuildingName=()=>(this.model.buildingName&&(this.animals=this.animals.filter((e=>e.name===this.model.buildingName))),this),this.byAnimalName=()=>(this.model.name&&(this.animals=this.animals.filter((e=>e.name===this.model.name))),this),this.byGender=()=>("indifferent"!==this.model.gender&&(this.animals=this.animals.filter((e=>e.gender===this.model.gender))),this),this.byAge=()=>("indifferent"!==this.model.age&&(this.animals=this.animals.filter((e=>e.age===this.model.age))),this),this.isSos=()=>(!0===this.model.sos&&(this.animals=this.animals.filter((e=>e.sos===this.model.sos))),this),this.model=e,this.animals=a}buildAll(){return this.bySpecies().byLocation().byBuildingName().byAnimalName().byGender().byAge().isSos().animals}build(){return this.animals}}const E=(0,l.aZ)({name:"PageIndex",props:["selected"],components:{SpaFilterBox:x,SpaAnimalCard:Z},setup(e){const a=(0,d.iH)({species:e.selected?e.selected:null,location:null,buildingName:null,name:null,gender:"indifferent",age:"indifferent",sos:!1});let s=(0,d.iH)([]);return(0,l.YP)((()=>a),(()=>{const e=new V(a.value,[...B]);s.value=e.buildAll()}),{deep:!0,immediate:!0}),{searchAnimal:a,animalsFiltered:s,drawerOpen:(0,d.iH)(!1)}}});var F=s(2428);E.render=o;const I=E;R()(E,"components",{QBtn:y.Z,QDrawer:F.Z})}}]);