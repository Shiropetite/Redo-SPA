"use strict";(self["webpackChunkredo_spa"]=self["webpackChunkredo_spa"]||[]).push([[206],{6206:(e,a,s)=>{s.r(a),s.d(a,{default:()=>J});var l=s(3673),t=s(2323);const n={class:"animal-list"},r={class:"row justify-center q-py-xl"},i={class:"col-10"},o={class:"row justify-center q-gutter-y-lg q-gutter-x-md"};function p(e,a,s,p,m,d){const u=(0,l.up)("spa-filter-box"),c=(0,l.up)("spa-animal-card");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",null,[(0,l.Wm)(u,{searchAnimal:e.searchAnimal},null,8,["searchAnimal"]),(0,l._)("div",r,[(0,l._)("div",i,[(0,l._)("div",o,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.animalsFiltered,(a=>((0,l.wg)(),(0,l.iD)("div",{key:a.id,style:(0,t.j5)(e.$q.screen.lt.md?"max-width: 200px":"width: 250px")},[(0,l.Wm)(c,{animal:a},null,8,["animal"])],4)))),128))])])])])])}s(71);var m=s(1959);const d={class:"row justify-center text-dark",style:{"background-color":"rgb(99, 63, 50, 0.15)"}},u={class:"col-10 q-py-md"},c={class:"row justify-between items-end q-gutter-y-sm"},g={class:"col-5"},w=(0,l._)("div",{class:"text-bold"},"Espèces",-1),b={class:"col-6"},h=(0,l._)("div",{class:"text-bold"},"Sexe",-1),f={class:"col-5"},v=(0,l._)("div",{class:"text-bold"},"Age",-1),y={class:"text-subtitle2 text-center"},x={class:"col-6 row justify-end items-end"},k={class:"col-10"},_=(0,l._)("div",{class:"text-bold"},"Commune",-1),j=(0,l.Uk)("Aucun refuge ne se trouve ici");function D(e,a,s,n,r,i){const o=(0,l.up)("q-option-group"),p=(0,l.up)("q-range"),m=(0,l.up)("q-icon"),D=(0,l.up)("q-item-section"),q=(0,l.up)("q-item-label"),A=(0,l.up)("q-item"),C=(0,l.up)("q-select"),W=(0,l.up)("q-checkbox");return(0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("div",u,[(0,l._)("div",c,[(0,l._)("div",g,[w,(0,l.Wm)(o,{modelValue:e.searchAnimal.species,"onUpdate:modelValue":a[0]||(a[0]=a=>e.searchAnimal.species=a),options:e.options.species,label:"Espece",inline:"",color:"dark"},null,8,["modelValue","options"])]),(0,l._)("div",b,[h,(0,l.Wm)(o,{modelValue:e.searchAnimal.gender,"onUpdate:modelValue":a[1]||(a[1]=a=>e.searchAnimal.gender=a),options:e.options.gender,label:"Sexe",color:"dark",inline:""},null,8,["modelValue","options"])]),(0,l._)("div",f,[v,(0,l.Wm)(p,{modelValue:e.searchAnimal.age,"onUpdate:modelValue":a[2]||(a[2]=a=>e.searchAnimal.age=a),min:0,max:5,color:"dark",markers:""},null,8,["modelValue"]),(0,l._)("div",y," Entre "+(0,t.zw)(e.ages[e.searchAnimal.age.min])+" et "+(0,t.zw)(e.ages[e.searchAnimal.age.max]),1)]),(0,l._)("div",x,[(0,l._)("div",k,[_,(0,l.Wm)(C,{modelValue:e.searchAnimal.commune,"onUpdate:modelValue":a[3]||(a[3]=a=>e.searchAnimal.commune=a),"use-input":"",outlined:"","input-debounce":"0",options:e.villesOptions,onFilter:e.filterFn,clearable:"","options-selected-class":"text-primary"},{option:(0,l.w5)((e=>[(0,l.Wm)(A,(0,l.dG)({clickable:""},e.itemProps),{default:(0,l.w5)((()=>[(0,l.Wm)(D,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{color:"dark",name:"pets"})])),_:1}),(0,l.Wm)(D,{class:"text-dark"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.opt),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,l.w5)((()=>[(0,l.Wm)(A,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"text-grey-9 text-italic"},{default:(0,l.w5)((()=>[j])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,l.Wm)(W,{class:"col-2",modelValue:e.searchAnimal.sos,"onUpdate:modelValue":a[4]||(a[4]=a=>e.searchAnimal.sos=a),label:"SOS",color:"dark"},null,8,["modelValue"])])])])])}const q=["Brugheas","Cliron","Mirepoix","Cabourg","Vitré","Luynes","Arry","Perpignan","Flayosc","Port la Nouvelle","La Roche sur Yon","Saint Parres aux Tertres"],A=["2 mois","6 mois","1 an","3 ans","5 ans","10 ans et +"],C={species:[{label:"🐶 Chien",value:"chien"},{label:"🐱 Chat",value:"chat"}],gender:[{label:"Male",value:"male"},{label:"Femelle",value:"female"},{label:"Indiférrent",value:"indiferrent"}]},W=(0,l.aZ)({name:"Filter",props:["searchAnimal"],setup(){const e=(0,m.iH)([]),a=async(a,s,l)=>{a.length<1?l():s((()=>{let s=q.filter((e=>e.toLowerCase().startsWith(a.toLowerCase())));e.value=s}))};return{options:C,ages:A,filterFn:a,villesOptions:e}}});var Z=s(8870),V=s(3162),E=s(6289),Q=s(3414),S=s(2035),I=s(4554),L=s(2350),F=s(5735),U=s(7518),B=s.n(U);W.render=D;const P=W;B()(W,"components",{QOptionGroup:Z.Z,QRange:V.Z,QSelect:E.Z,QItem:Q.Z,QItemSection:S.Z,QIcon:I.Z,QItemLabel:L.Z,QCheckbox:F.Z});const M=["src"],O={class:"row q-gutter-x-xs items-center"};function z(e,a,s,n,r,i){const o=(0,l.up)("q-btn"),p=(0,l.up)("q-item-label"),m=(0,l.up)("q-icon"),d=(0,l.up)("q-item-section"),u=(0,l.up)("q-item"),c=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(c,null,{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.animal.image,style:(0,t.j5)(e.$q.screen.lt.md?"height: 140px":"height: 160px")},null,12,M),(0,l.Wm)(u,{clickable:"",class:"column"},{default:(0,l.w5)((()=>[e.animal.sos?((0,l.wg)(),(0,l.j4)(o,{key:0,color:"primary",label:"SOS",class:"absolute",style:{top:"0",right:"10px",transform:"translateY(-50%)"}})):(0,l.kq)("",!0),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",O,[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.animal.name),1)])),_:1}),(0,l.Wm)(m,{name:e.animal.gender},null,8,["name"])])])),_:1})])),_:1})])),_:1})}const Y=(0,l.aZ)({props:["animal"],setup(){}});var G=s(151),H=s(4607);Y.render=z;const R=Y;B()(Y,"components",{QCard:G.Z,QItem:Q.Z,QBtn:H.Z,QItemSection:S.Z,QItemLabel:L.Z,QIcon:I.Z});const T={cats:[{id:1,name:"Lagertha",gender:"female",breed:"Européen",birthDate:"10/04/2020",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22666/lagertha-22666-61952e0f76688.jpg"},{id:2,name:"Salicorne",gender:"female",breed:"Européen",birthDate:"15/05/2021",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21909/salicorne-21909-61952de02b38e.jpg"},{id:3,name:"Epinette",gender:"female",breed:"Européen",birthDate:"01/10/2020",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22645/epinette-22645-61952e0e7c331.jpg"},{id:4,name:"Gavotte",gender:"female",breed:"Européen",birthDate:"19/10/2019",sos:!0,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22982/gavotte-qct-22982-61952e1b0d6c4.jpg"},{id:5,name:"Perle",gender:"female",breed:"Européen",birthDate:"01/05/2017",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21281/perle-21281-61952db404f1c.jpg"},{id:6,name:"Molly",gender:"female",breed:"Europeen",birthDate:"07/08/2020",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22478/molly-22478-61975efd5bb04.jpg"},{id:7,name:"Pinceau",gender:"male",breed:"Européen",birthDate:"10/08/2021",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/24153/pinceau-cha14640-24153-619b96c7ce4f9.jpg"},{id:8,name:"Crossover",gender:"female",breed:"Européen",birthDate:"17/04/2021",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22067/crossover-22067-61952dea7d0b6.jpg"},{id:9,name:"Rafiki",gender:"male",breed:"Européen",birthDate:"23/09/2020",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22364/rafiki-22364-61952df7a79a7.jpg"},{id:10,name:"Polo",gender:"male",breed:"Européen",birthDate:"31/08/2016",sos:!0,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22139/polo-22139-61952ded4f65f.jpg"}],dogs:[{id:1,name:"Maiko",gender:"male",breed:"Berger belge Malinoiis",birthDate:"05/10/2019",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21084/maiko-21084-61952da87c06f.jpg"},{id:2,name:"Miku",gender:"male",breed:"Croisé / Autre (Labrador)",birthDate:"02/07/2020",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/21642/miku-21642-61952dc5dcb69.jpg"},{id:3,name:"Lipton",gender:"male",breed:"Golden retriever",birthDate:"11/09/2011",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/23098/lipton-23098-61952e299db70.jpg"},{id:4,name:"Bayron",gender:"male",breed:"Croisé (Cane corso, Berger)",birthDate:"01/01/2016",sos:!0,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/20186/bayron-chao11041-20186-61952d679e7fc.jpg"},{id:5,name:"Vince",gender:"female",breed:"Croisé / Berger allemand",birthDate:"11/03/2017",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22268/vince-22268-61952df3f266b.jpg"},{id:6,name:"Lucky",gender:"male",breed:"Jack russel terrier",birthDate:"15/11/2013",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/23705/lucky-23705-6198f6f64e7b5.jpg"},{id:7,name:"Onyx",gender:"male",breed:"Border Collie",birthDate:"01/01/2011",sos:!0,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/20036/onyx-20036-61952d6234221.jpg"},{id:8,name:"Zelena",gender:"female",breed:"Berger allemand",birthDate:"04/11/2014",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/23680/zelena-23680-619668b972178.jpg"},{id:9,name:"Lapin",gender:"male",breed:"Dogue argentin",birthDate:"27/08/2019",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/22410/lapin-22410-61952dff7f7bc.jpg"},{id:10,name:"Oslow",gender:"male",breed:"Croisé / Autre (Labrador)",birthDate:"25/03/2018",sos:!1,image:"https://www.la-spa.fr/app/assets-spa/uploads/animals/23182/oslow-23182-61952e2d9236d.jpg"}]},$=(0,l.aZ)({name:"PageIndex",props:["selected"],components:{SpaFilterBox:P,SpaAnimalCard:R},setup(e){const a=(0,m.iH)({species:e.selected?e.selected:null,commune:null,gender:"indiferrent",age:{min:0,max:5},sos:!1});let s=(0,m.iH)([]);return(0,l.YP)((()=>a),(()=>{a.value.species?"chat"===a.value.species?s.value=[...T.cats]:s.value=[...T.dogs]:s.value=[...T.cats,...T.dogs],"indiferrent"!==a.value.gender&&(s.value=s.value.filter((e=>e.gender===a.value.gender))),a.value.sos&&(s.value=s.value.filter((e=>e.sos))),a.value.commune&&(s.value=s.value.filter((e=>e.refuge.commune===a.value.commune)));const e=[{year:0,month:2},{year:0,month:6},{year:1},{year:3},{year:5},{year:99}];s.value=s.value.filter((s=>{const l=new Date;let t=l.getUTCFullYear()-parseInt(s.birthDate.split("/")[2]),n=l.getUTCMonth()+1-parseInt(s.birthDate.split("/")[1]);n<0&&(t--,n=12-Math.abs(n));let r=!0;return e[a.value.age.min].month&&0===t&&r&&(r=e[a.value.age.min].month<=n),r&&(r=e[a.value.age.min].year<=t),e[a.value.age.min].max&&0===t&&r&&(r=e[a.value.age.min].month>=n),r&&(r=e[a.value.age.max].year>=t),r}))}),{deep:!0,immediate:!0}),{searchAnimal:a,animalsFiltered:s}}});$.render=p;const J=$}}]);